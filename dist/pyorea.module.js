!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){function e(){return e=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},e.apply(this,arguments)}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function r(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t={react:"18","react-dom":"18"};window.addEventListener("DOMContentLoaded",function(){Promise.resolve(function(){try{var n=e({},t,window.npm_deps||{}),r=Promise.all(Object.keys(n).map(function(e){var r=n[e],t="",o=(null==r?void 0:r.name)||e.replace(/-/g,"_");if("string"==typeof r)t=n[e];else if(null!=r&&r.version){var a;t=null==(a=n[e])?void 0:a.version}return import("https://esm.sh/"+e+(t?"@"+t:"")).then(function(e){return{module:e,name:o}})}));return Promise.resolve(Promise.all([r,import("https://cdn.jsdelivr.net/pyodide/v0.21.3/full/pyodide.js")])).then(function(e){return e[0]})}catch(e){return Promise.reject(e)}}()).then(function(e){return Promise.resolve(loadPyodide({fullStdLib:!0})).then(function(n){for(var t,o=r(e);!(t=o()).done;){var a=t.value;n.registerJsModule(a.name,a.module)}var i=[];return document.querySelectorAll('script[type="text/python"]').forEach(function(e,n){i.push(e.src?fetch(e.src).then(function(e){return e.text()}).then(function(n){return{text:n,name:e.src}}):{text:e.textContent,name:"inline script #"+(n+1)})}),Promise.resolve(Promise.all(i)).then(function(e){return window.__scripts&&Array.isArray(window.__scripts)&&(e=[].concat(e,window.__scripts)),Promise.resolve(function(){try{var e=document.querySelector(".preloader"),n=function(){if(e)return e.style.transition="opacity 0.4s ease",e.style.opacity=1,e.style.opacity=0,Promise.resolve(new Promise(function(e){return setTimeout(e,410)})).then(function(){e.style.display="none"})}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}()).then(function(){var t="/mnt";n.FS.mkdir(t),n.FS.mount(n.FS.filesystems.IDBFS,{root:"."},t),n.runPython("\nimport inspect\nimport types\nimport sys\nfrom pyodide.ffi import create_proxy, to_js\nfrom js import window, document, Object\nimport react as React\nimport react_dom as ReactDOM\n\nflatten = lambda *n: (e for a in n\n                      for e in (flatten(*a) if isinstance(a, (tuple, list)) else (a,)))\n\n\n_h = React.createElement\n\n\ndef helper(type, *args):\n    props = None\n    children = []\n    if args and isinstance(args[0], dict):\n        props = to_js(args[0], dict_converter=Object.fromEntries)\n        if args[1:]:\n            children = flatten(args[1:])\n    elif args:\n        children = flatten(args)\n    return _h(type, props, *children)\n\n\nclass HyperScript(type):\n    def __getattribute__(self, __name):\n        def _helper(*args):\n            return helper(__name, *args)\n        return _helper\n\n    def __call__(self, type, *args):\n        return helper(type, *args)\n\n\nclass h(metaclass=HyperScript):\n    pass\n\n\ndef Component(component_fn):\n\n    def inner_fn(props, _opt):\n        func_params = (inspect.signature(component_fn).parameters)\n        return component_fn(props) if func_params else component_fn()\n\n    return create_proxy(inner_fn)\n\n\ndef render(app, selector):\n    root = ReactDOM.createRoot(document.querySelector(selector))\n    root.render(app)\n\n\n\npyorea = types.ModuleType('pyorea')\npyorea.h = h\npyorea.Component = Component\npyorea.render = render\npyorea.React = React\nsys.modules['pyorea'] = pyorea\n\n");for(var o,a=r(e);!(o=a()).done;){var i=o.value,s=i.text,c=i.name;try{n.runPython(s)}catch(e){console.error("Error in file "+c,e)}}})})})}).catch(function(e){console.warn("load script error",e)})})});
//# sourceMappingURL=pyorea.module.js.map
